.page-header    
.row
        .col-xs-12
                form.form-horizontal(novalidate, name="form")
                        .fieldset
                                legend Metadata                    
                                        .btn-group.pull-right
                                                a.btn.btn-primary.btn-margin.btn-sm(ng-hide="metadataCreateLoader", ng-click="backToListMetadata()", style="cursor: pointer;", bs-tooltip="tooltip.back")
                                                        i.icon-mail-reply.icon-large
                                                button.btn.btn-primary.btn-sm(permission="createMetadata.*.*",ng-hide="metadataCreateLoader", ng-disabled="form.$invalid", type="submit", ng-click="createMetadata(metadata,$stateParams.metadataType)", style="cursor: pointer;", bs-tooltip="tooltip.save")
                                                        i.icon-ok.icon-large
                                                i.icon-spinner.icon-spin.icon-2x(ng-show="metadataCreateLoader")
                                .form-group
                                        label.col-sm-3.control-label.no-padding-right Value
                                        .col-sm-9
                                                input(type="text", name="value", duplicate="metadata", ng-model="metadata.value", placeholder="Value", required)
                                                label.help-inline.required(ng-show="form.value.$error.required") *
                                                label.help-inline.required(ng-show="form.value.$error.duplicate") Metadata exists.  
                                ng-form(name="fieldsForm", ng-repeat="row in selectedMetadataFields",ng-switch='row.t')
                                        .form-group(ng-switch-when='text', ng-switch="row.m")
                                                label.col-sm-3.control-label.no-padding-right {{row.v}}
                                                .col-sm-9(ng-switch-when='true')                                              
                                                        input(type="text", name="otherFields", ng-model="metadata[row.v]", placeholder="{{row.v}}", required="{{row.m}}")                                                
                                                        label.help-inline.required(ng-show="fieldsForm.otherFields.$error.required")*
                                                .col-sm-9(ng-switch-when='false')                                              
                                                        input(type="text", name="otherFields", ng-model="metadata[row.v]", placeholder="{{row.v}}")                                                
                                        .form-group(ng-switch-when='email', ng-switch="row.m")
                                                label.col-sm-3.control-label.no-padding-right {{row.v}}
                                                .col-sm-9(ng-switch-when='true')                                                
                                                        input(type="email", name="otherFields", ng-model="metadata[row.v]", placeholder="{{row.v}}", required="{{row.m}}")                                                
                                                        label.help-inline.required(ng-show="fieldsForm.otherFields.$error.required")*
                                                        label.help-inline.required(ng-show="fieldsForm.otherFields.$error.email" ) This is not a valid email!
                                                .col-sm-9(ng-switch-when='false') 
                                                        input(type="email", name="otherFields", ng-model="metadata[row.v]", placeholder="{{row.v}}")                                                
                                                        label.help-inline.required(ng-show="fieldsForm.otherFields.$error.email" ) This is not a valid email!
                                        .form-group(ng-switch-when='date', ng-switch="row.m")
                                                label.col-sm-3.control-label.no-padding-right {{row.v}}
                                                .col-sm-9(ng-switch-when='true')                                                     
                                                        input(type="date", data-date-format="dd-mm-yyyy", bs-datepicker='bs-datepicker', name="otherFields", ng-model="metadata[row.v]", placeholder="{{row.v}}", required="{{row.m}}" )                                                
                                                        label.help-inline.required(ng-show="fieldsForm.otherFields.$error.required")*
                                                        label.help-inline.required(ng-show="fieldsForm.otherFields.$error.date" ) This is not a valid date.!
                                                .col-sm-9(ng-switch-when='false') 
                                                        input(type="date", data-date-format="dd-mm-yyyy", bs-datepicker='bs-datepicker', name="otherFields", ng-model="metadata[row.v]", placeholder="{{row.v}}")                                                
                                                        label.help-inline.required(ng-show="fieldsForm.otherFields.$error.date" ) This is not a valid date.!
                                        .form-group(ng-switch-when='number', ng-switch="row.m")
                                                label.col-sm-3.control-label.no-padding-right {{row.v}}
                                                .col-sm-9(ng-switch-when='true')                                                 
                                                        input(type="number",name="otherFields", ng-model="metadata[row.v]", placeholder="{{row.v}}", required="{{row.m}}" )                                                
                                                        label.help-inline.required(ng-show="fieldsForm.otherFields.$error.required")*
                                                        label.help-inline.required(ng-show="fieldsForm.otherFields.$error.email" ) This is not a valid number!
                                                .col-sm-9(ng-switch-when='false') 
                                                        input(type="number",name="otherFields", ng-model="metadata[row.v]", placeholder="{{row.v}}")                                                
                                                        label.help-inline.required(ng-show="fieldsForm.otherFields.$error.email" ) This is not a valid number!


