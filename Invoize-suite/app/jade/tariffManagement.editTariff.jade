form.form-horizontal(novalidate, name="frm1")
    .row(ng-show="expiryDialog")
        .col-sm-12
            //Created by pallavi.dandane on 7/29/2014.
            .modal-dialog.modal
                .modal-content(style="margin: 0 auto;width: 30%;")
                    .modal-header
                        button.close(aria-hidden='true', data-dismiss='modal', type='button', ng-click="close()")     &times;
                        h4.modal-title Expire Tariff Details &nbsp;
                    .modal-body
                        div#expireTariffDetails
                           .opt-title Select to Expire
                               .opt-group
                                   .opt
                                        input(type="radio", id="expireAll", name="expireLane", value="all",ng-model="objExpireTariff.expireLanes")
                                        label(for="expireAll") &nbsp; All Lanes &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        input(type="radio", id="expireSelected", name="expireLane", value="select",ng-model="objExpireTariff.expireLanes")
                                        label(for="expireSelected") &nbsp; Selected Lanes
                           br
                           label Expiry Date &nbsp; &nbsp;
                           input.input-large(type="text",required,name="expDate",data-date-format='yyyy-mm-dd' ,datepicker-popup="yyyy-MM-dd",datepicker-options="dateOptions",ng-model="objExpireTariff.tariffExpiryDt",placeholder="Expiry Date" )
                           span.red(ng-show="frm1.expDate.$error.required") &nbsp; *
                           span.green.validTick(ng-show="frm1.expDate.$valid") &nbsp; &#10004;


                    .modal-footer
                        button.inz-btn.btn-sm.btn-success(ng-disabled="frm1.$invalid",ng-class="{'disabled': frm1.$invalid}",ng-click="expireTariff()" ) Done
                        button.inz-btn.btn-sm.btn-default(ng-click="close();") Cancel
div(style="clear:both;")
.row.in-wiz-ttl.in-fix-scroll(set-width)
    .col-xs-12.col-sm-12.col-md-12
        .pull-left
            .in-wiz-info(ng-hide="addMode") Edit / View Tariff : {{editedLane[5]}} - {{editedLane[6]}} - {{editedLane[7]}}
            .in-wiz-info(ng-show="addMode") Add Tariff


        .pull-right
            //dynamic-Select(multiselect,name="account",ng-model="global.account",ph="account",change="setAccounts(global.account,isGroupSelected)",customobj='{"currentContext":"{{$state.$current.context.product}}.tariffRepository","systemId":"{{loggedInUser.userSystem[0].id}}"}',toolTip="Account Number",placeholder="Search by Account",ng-readonly="true")
            a(ng-click='openDialogDocuments();',href="javascript:void(0)")
                span.in-add-sign +
                span.in-add-txt View / Edit Documents &nbsp;
            i.icon-spinner.icon-spin.blue.icon-large(ng-show="Loader")
            span {{global.account | selectFormat}} &nbsp;
            label(style="margin-bottom:0;",permission="tariffLane.editTariffLanes")
                input(type="checkbox", class="ace ace-switch ace-switch-addUpdate", name="switch-field-1",ng-click="switchTariffMode($event)",ng-required="false",text-on="Add")
                span.lbl
            //.btn-group.filter-dd.rule-filter
            //    button.btn-sm.btn-ico.btn-custom.dropdown-toggle.arrow-right(ng-hide="addMode",data-toggle='dropdown', type='button',data-placement="top", data-toggle="tooltip",  style="margin: 0 0 0 0 !important;" ,tooltip-placement="top", tooltip="Show / Hide columns")
            //        i.fa.fa-eye
            //    ul.dropdown-menu.filter-ddm.arrow-left.dropdown-caret( aria-labelledby='btnGroupVerticalDropShowHide', role='menu',style="max-height:350px;width:230px;")
            //        li
            //            .opt-title
            //                ul( aria-labelledby='btnGroupVerticalDropShowHide', role='menu',style="max-height:335px;margin-left:0px;",nice-scroll)
            //                    li.pb0(ng-repeat="item in columns",ng-click="setWidth($index)",style="cursor:pointer;",ng-hide="item.title.indexOf('chkAll') != -1 || item.key == 'history'")
            //                        input(type="checkbox", id="id-{{item.key}}", ng-model="item.visible")
            //                        label(for="id-{{item.key}}")  {{item.title}}
            //.btn-group.filter-dd.rule-filter(ng-show="lanes.length")
            //    button.btn-sm.btn-ico.btn-custom.dropdown-toggle(data-toggle='dropdown', type='button')
            //        |  Filter
            //        i.fa.fa-angle-down
            //    div.dropdown-menu.filter-ddm.arrow-right.dropdown-caret( aria-labelledby='btnGroupVerticalDrop1', role='menu')
            //        div.showme.overflow-auto
            //            div(ng-repeat="(k,obj) in laneProfileData.fields",ng-switch="obj.type")
            //                .opt-title {{obj.label}}
            //                input.input-large(ng-switch-when="date", datepicker-popup="yyyy-MM-dd",datepicker-options="dateOptions",type="text",ng-model="obj.val",close-text="Close",placeholder="{{obj.label}}")
            //                dynamic-Select(ng-switch-default,multiselect,placeholder="{{obj.label}}",ng-model="obj.val",ph="{{obj.key}}", url="api/tariffLaneFilter/suggestion?account={{global.account[0].n}}&systemId={{loggedInUser.userSystem[0].id}}&templateId={{$routeParams.templateId}}")
            //        div(style="clear:both;padding:5px 0;")
            //        .opt-cmd
            //            button.inz-btn.btn-xs.btn-default(ng-click="resetFilter()") Reset
            //            button.inz-btn.btn-xs.btn-success(ng-click="applyFilter()") Apply
            //.btn-group(style="vertical-align: inherit;")
            //    button.inz-btn.btn-sm.btn-custom.dropdown-toggle(data-toggle='dropdown', type='button')
            //        |  Actions
            //        i.fa.fa-angle-down
            //
            //    ul.dropdown-menu-c.dropdown-menu-c2.dropdown-caret-c(aria-labelledby='btnGroupVerticalDrop1', role='menu')
            //        //li(ng-click="$parent.currentTab='accountInvoice'")
            //        //    a(style="cursor:pointer") Share
            //
            //        //li(ng-click="$parent.currentTab='accountShipment'",permission="tariffLane.editTariffLanes")
            //        //    a(style="cursor:pointer",ng-click="openDialog()") Upload Tariff Lanes
            //        li(ng-click="$parent.currentTab='accountShipment'",permission="tariffLane.editTariffLanes")
            //            a(style="cursor:pointer",ng-click="openExpireTariffDialog()") Expire Tariff
            //        li(ng-click="$parent.currentTab='accountShipment'",permission="tariffLane.exportTariff")
            //            a(style="cursor:pointer",ng-click="exportLanes()") Export Tariff
            //
            //
            //        li(ng-click="$parent.currentTab='accountShipment'")
            //            a
            //                i.icon-caret-left
            //                | Upload Tariff
            //            ul
            //                li
            //                    a(style="cursor:pointer",ng-click="exportTemplate()",permission="tariffLane.editTariffLanes") Export Tariff Template
            //                li
            //                    a(style="cursor:pointer",ng-click="openDialog()",permission="tariffLane.editTariffLanes") Upload Tariff Lanes
            //            //    i.icon-caret-left
            //            //    | Export
            //            //ul
            //            //    li
            //            //        a(style="cursor:pointer",ng-click="exportLanes()",permission="tariffLane.tariffLaneView") Tariff Lanes
            //            //    li
            //            //        a(style="cursor:pointer",ng-click="exportTemplate()",permission="tariffRepository.sideTariffRepository") Tariff Template
            //
            //button.inz-btn.btn-sm.btn-split.loadUI(ng-click='showHideTariffFormView(currentRowIndex,true);',data-placement="bottom", data-toggle="tooltip", title="Form View", tooltip-placement="left", tooltip="Form View Toggle" ,type="button")
            //    i.fa.fa-columns
            button.inz-btn.btn-sm.btn-success(permission="tariffLane.editTariffLanes",type="submit",ng-class="{'disabled': mainForm2.$invalid}",ng-disabled="mainForm2.$invalid",ng-click="updateLanes()") Save
            button.inz-btn.btn.btn-ico.btn-default.go-back(ng-click="redirectTo('/tariffLane');tariffList.length=0",tool-tip,data-placement="top", data-toggle="tooltip", title="Back to Account List")
                i.fa.fa-reply


            //a.btn-sm.btn-split.btn.loadUI(ng-click='showHideTariffFormView()',data-placement="bottom", data-toggle="tooltip", title="Form View", tooltip-placement="left", tooltip="Form View Toggle" ,type="button")
            //    i.fa.fa-columns
div(style="clear:both;height:47px;")
.col-xs-12.col-sm-12.col-md-12
    .pull-right
        button.btn-sm.btn-ico.btn-custom.dropdown-toggle.arrow-right(ng-hide="addMode",data-toggle='dropdown', type='button',data-placement="top", data-toggle="tooltip",  style="margin: 0 0 0 0 !important;" ,tooltip-placement="top", tooltip="Show / Hide columns")
            i.fa.fa-eye
        ul.dropdown-menu.filter-ddm.arrow-left.dropdown-caret( aria-labelledby='btnGroupVerticalDropShowHide', role='menu',style="max-height:350px;width:230px;")
            li
                .opt-title
                    ul( aria-labelledby='btnGroupVerticalDropShowHide', role='menu',style="max-height:335px;margin-left:0px;",nice-scroll)
                        li.pb0(ng-repeat="item in columns",ng-click="setWidth($index)",style="cursor:pointer;",ng-hide="item.title.indexOf('chkAll') != -1 || item.key == 'history'")
                            input(type="checkbox", id="id-{{item.key}}", ng-model="item.visible")
                            label(for="id-{{item.key}}")  {{item.title}}
        .btn-group.filter-dd.rule-filter(ng-show="lanes.length")
            button.btn-sm.btn-ico.btn-custom.dropdown-toggle(data-toggle='dropdown', type='button')
                |  Filter &nbsp;
                i.fa.fa-angle-down
            div.dropdown-menu.filter-ddm.arrow-right.dropdown-caret( aria-labelledby='btnGroupVerticalDrop1', role='menu')
                div.showme.overflow-auto
                    div(ng-repeat="(k,obj) in laneProfileData.fields",ng-switch="obj.type")
                        .opt-title {{obj.label}}
                        input.input-large(ng-switch-when="date", datepicker-popup="yyyy-MM-dd",datepicker-options="dateOptions",type="text",ng-model="obj.val",close-text="Close",placeholder="{{obj.label}}")
                        dynamic-Select(ng-switch-default,multiselect,placeholder="{{obj.label}}",ng-model="obj.val",ph="{{obj.key}}", url="api/tariffLaneFilter/suggestion?account={{global.account[0].n}}&systemId={{loggedInUser.userSystem[0].id}}&templateId={{$routeParams.templateId}}")
                div(style="clear:both;padding:5px 0;")
                .opt-cmd
                    button.inz-btn.btn-xs.btn-default(ng-click="resetFilter()") Reset
                    button.inz-btn.btn-xs.btn-success(ng-click="applyFilter()") Apply
        .btn-group(style="vertical-align: inherit;")
            button.btn-sm.btn-custom.dropdown-toggle(data-toggle='dropdown', type='button')
                |  Actions &nbsp;
                i.fa.fa-angle-down
            ul.dropdown-menu-c.dropdown-menu-c2.dropdown-caret-c(aria-labelledby='btnGroupVerticalDrop1', role='menu')
                //li(ng-click="$parent.currentTab='accountInvoice'")
                //    a(style="cursor:pointer") Share

                //li(ng-click="$parent.currentTab='accountShipment'",permission="tariffLane.editTariffLanes")
                //    a(style="cursor:pointer",ng-click="openDialog()") Upload Tariff Lanes
                li(ng-click="$parent.currentTab='accountShipment'",permission="tariffLane.editTariffLanes")
                    a(style="cursor:pointer",ng-click="openExpireTariffDialog()") Expire Tariff
                li(ng-click="$parent.currentTab='accountShipment'",permission="tariffLane.exportTariff")
                    a(style="cursor:pointer",ng-click="exportLanes()") Export Tariff


                li(ng-click="$parent.currentTab='accountShipment'")
                    a
                        i.icon-caret-left
                        | Upload Tariff
                    ul
                        li
                            a(style="cursor:pointer",ng-click="exportTemplate()",permission="tariffLane.editTariffLanes") Export Tariff Template
                        li
                            a(style="cursor:pointer",ng-click="openDialog()",permission="tariffLane.editTariffLanes") Upload Tariff Lanes
                    //    i.icon-caret-left
                    //    | Export
                    //ul
                    //    li
                    //        a(style="cursor:pointer",ng-click="exportLanes()",permission="tariffLane.tariffLaneView") Tariff Lanes
                    //    li
                    //        a(style="cursor:pointer",ng-click="exportTemplate()",permission="tariffRepository.sideTariffRepository") Tariff Template

        button.btn-sm.btn-split.loadUI(ng-click='showHideTariffFormView(currentRowIndex,true);',data-placement="bottom", data-toggle="tooltip", title="Form View", tooltip-placement="left", tooltip="Form View Toggle" ,type="button")
            i.fa.fa-columns



.col-xs-12.col-md-12.col-sm-12
    .div-layout-ew()
        //- ng-init="getDeliveryData()"
        .layout-mock(ui-layout='')

            ui-layout(options='{ flow : "column" }')
                sidebar.west-back.div-west(style="margin-right:10px;")
                    div(ui-handsontable='{currentRowClassName: "currentRow",currentColClassName: "currentCol"}',afterCreateRow="onRowCreate",rowHeaders="rowNos",height="hh",width='hw',beforeSet='multiselect',datarows='lane in lanes',manualColumnResize='true', stretchH='All' ,columns='columns',minsparerows='sparerow', onBeforeChange='celChange', ng-init="getTemplate()",afterRender='afterRender()', afterOnCellMouseDown ="afterOnCellMouseDown")
                    pagination#lane(total-items="totalItems",items-per-page="pageLimit", page="currentPage",max-size="paginationSize",rotate="true",ng-init="paginationSize=20", class="pagination-small",on-select-page="setPage()", boundary-links="true")

                sidebar.east-back.div-east.overflow-auto(style="padding:5px 10px 0;margin-left:20px;")
                    div
                        .col-md-12.col-sm-12.col-xs-12
                            //form.form-horizontal(novalidate, name="subForm")
                            .pull-left
                                label
                                    span Lane ID :
                                    span.red &nbsp; {{currentRowIndex + ((currentPage -1 ) * pageLimit) + 1}}
                            .pull-right
                                button.btn-left-right(ng-click="updateLanebyFormView('prev')")
                                    i.fa.fa-arrow-left
                                button.btn-left-right(ng-click="updateLanebyFormView('next')")
                                    i.fa.fa-arrow-right
                        div(style="clear:both;height:3px")

                        include tariffManagementViewForm

                    div(style="clear:both !important;height:5px !important;")



