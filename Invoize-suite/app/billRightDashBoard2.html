
<!--Using fluid as the other has fixed pixels and doesnt extend the whole screen.-->
<div id="navbar" class="navbar navbar-default navbar-fixed-top">
  <div id="navbar-container" class="navbar-container">
    <div class="pull-left">
      <div class="navbar-header nav-menu-toggeler">
        <div class="navbar-brand"><a class="brand"><span class="in-logo-bar r"></span><span class="in-logo-bar b"></span><span class="in-logo-bar g"></span></a></div>
      </div>
      <div class="navbar-header menu-toggle">
        <ul class="nav ace-nav">
          <li ng-class="{ active: $state.includes('route:/home')}"><a href="#/home"><i class="icon-home"></i><span> Home</span></a></li>
          <li permission=".navBillright" product="Bill Right" ng-class="{ active: $state.includes('billright')}"><a href="#/billright"><i class="icon-book"></i><span> Bill Right </span></a></li>
          <!--li(permission="Pay Right",ng-class="{ active: $state.includes('payright')}")-->
          <!--                                    a(href="#/payright")-->
          <!--                                            i.icon-book-->
          <!--                                            span  Pay Right-->
          <!--li(permission="Quote Right",ng-class="{ active: $state.includes('quote')}")-->
          <!--                                    a(href="#/quote")-->
          <!--                                            i.icon-file-text-alt-->
          <!--                                            span  Quote-->
          <!--li(permission="rateNav.*.*",ng-class="{ active: $state.includes('rate')}")-->
          <!--                                    a(href="#/rate")-->
          <!--                                            i.icon-money-->
          <!--                                            span  Rate-->
          <!--li(permission="requestNav.*.*",ng-class="{ active: $state.includes('request')}")-->
          <!--                                    a(href="#/request")-->
          <!--                                            i.icon-retweet-->
          <!--                                            span  Request-->
          <!--li(permission="tmsNav.*.*",ng-class="{ active: $state.includes('tms')}")-->
          <!--                                    a(href="#/tms")-->
          <!--                                            i.icon-credit-card-->
          <!--                                            span  Tariff-->
          <li permission=".navOrganization" product="Admin" ng-class="{ active: $state.includes('organizationSetup')}"><a href="#/organizationSetup"><i class="icon-cogs"></i><span> Organization Setup</span></a></li>
        </ul>
      </div>
    </div>
    <div class="pull-right">
      <div class="navbar-header">
        <ul class="nav ace-nav">
          <li ng-show="pendingQuoteRequestCount || pendingRateRequestCount || pendingTmsRequestCount" class="label-warning"><a data-toggle="dropdown" href="#" class="dropdown-toggle"><i class="icon-bell-alt icon-only icon-animated-bell"></i><span ng-cloak="ng-cloak" class="badge badge-important">{{pendingQuoteRequestCount + pendingRateRequestCount + pendingTmsRequestCount}}</span></a>
            <ul class="pull-right dropdown-navbar navbar-green dropdown-menu dropdown-caret dropdown-closer">
              <li class="nav-header"><i class="icon-warning-sign"></i>{{pendingQuoteRequestCount + pendingRateRequestCount + pendingTmsRequestCount}} Notifications</li>
              <li ng-show="pendingQuoteRequestCount"><a href="#/request/quote/pending">
                  <div class="clearfix"><span class="pull-left"><i class="btn btn-mini no-hover btn-pink icon-envelope-alt"></i>New Quotes</span><span ng-cloak="ng-cloak" class="pull-right badge badge-pink">+{{pendingQuoteRequestCount}}</span></div></a></li>
              <li ng-show="pendingRateRequestCount"><a href="#/request/rate/pending">
                  <div class="clearfix"><span class="pull-left"><i class="btn btn-mini no-hover btn-success icon-envelope-alt"></i>New Rates</span><span ng-cloak="ng-cloak" class="pull-right badge badge-success">+{{pendingRateRequestCount}}</span></div></a></li>
              <li ng-show="pendingTmsRequestCount"><a href="#/request/tms/pending">
                  <div class="clearfix"><span class="pull-left"><i class="btn btn-mini no-hover btn-info icon-envelope-alt"></i>New Tariffs</span><span ng-cloak="ng-cloak" class="pull-right badge badge-info">+{{pendingTmsRequestCount}}</span></div></a></li>
              <li><a href="#/request">See all requests<i class="icon-arrow-right"></i></a></li>
            </ul>
            <li tootltip="Set your work environment" ng-show="companySystemSelection" class="minfo"><a data-toggle="dropdown" href="#" tooltip-placement="bottom" tooltip="Your Work Environment" class="in-alert dropdown-toggle"><i class="icon-cog icon-animated-vertical"></i><span ng-show="userCompany==null || userSystem==null" class="in-alert-cnt">!</span><span ng-hide="userCompany==null || userSystem==null" class="in-success-cnt"><i class="fa fa-check"></i></span></a>
              <ul class="pull-right dropdown-menu filter-ddm dropdown-caret dropdown-close in-dd-noti inz-env">
                <li class="in-notiifier in-notiifier1">
                  <div class="noti-con">
                    <div class="noti-title">Select Company</div>
                    <dynamic-Select required="required" name="searchCompany" ng-model="search.company" ph="userCompany" placeholder="Select Company" change="clearSystem()" class="ftext"></dynamic-Select>
                  </div>
                </li>
                <li class="in-notiifier in-notiifier1">
                  <div class="noti-con">
                    <div class="noti-title">Select System</div>
                    <dynamic-Select required="required" customobj="{&quot;companyId&quot;:&quot;{{search.company[0].id!=null ? search.company[0].id : userCompany[0].id}}&quot;}" disabled="search.company==null || search.company.length==0" name="searchSystem" ng-model="search.system" ph="userSystem" placeholder="Select System" class="ftext"></dynamic-Select>
                  </div>
                </li>
                <li class="in-notiifier in-notiifier1">
                  <div class="noti-con pull-right">
                    <button ng-click="setCompanySystemCookie()" ng-class="{'disabled': search.company==null || search.system==null}" ng-disabled="search.company==null || search.system==null" class="pull-right noti-title inz-btn btn-xs btn-success">Apply</button>
                  </div>
                  <div class="clearfix"></div>
                </li>
              </ul>
            </li>
          </li>
          <li><a data-toggle="dropdown" href="#" class="in-alert dropdown-toggle"><i class="icon-envelope icon-animated-hand-pointer"></i><span class="in-alert-cnt">3</span></a>
            <ul class="pull-right dropdown-menu dropdown-caret dropdown-close in-dd-noti filter-ddm">
              <li class="in-notiifier"><a class="noti-img"><img src="avatars/avatar8.jpg"/></a>
                <div class="noti-con">
                  <div class="noti-title">Shanon Butler</div>
                  <div class="noti-des">Updated Pending bill request in abcd station.</div>
                </div>
              </li>
              <li class="in-notiifier"><a class="noti-img"><img src="avatars/avatar10.jpg"/></a>
                <div class="noti-con">
                  <div class="noti-title">Nikita Smith</div>
                  <div class="noti-des">Updated Pending bill request.</div>
                </div>
              </li>
              <li class="in-notiifier"><a class="noti-img"><img src="avatars/avatar11.jpg"/></a>
                <div class="noti-con">
                  <div class="noti-title">Kesha</div>
                  <div class="noti-des">Reported new bug.</div>
                </div>
              </li>
            </ul>
          </li>
          <li><a data-toggle="dropdown" href="#" class="in-alert dropdown-toggle"><i class="icon-bell-alt icon-animated-bell"></i><span class="in-alert-cnt">9+</span></a>
            <ul class="pull-right dropdown-menu dropdown-caret dropdown-close in-dd-noti filter-ddm">
              <li class="in-notiifier"><a class="noti-img"><img src="avatars/avatar8.jpg"/></a>
                <div class="noti-con">
                  <div class="noti-title">Shanon Butler</div>
                  <div class="noti-des">Updated Pending bill request in abcd station.</div>
                </div>
              </li>
              <li class="in-notiifier"><a class="noti-img"><img src="avatars/avatar10.jpg"/></a>
                <div class="noti-con">
                  <div class="noti-title">Nikita Smith</div>
                  <div class="noti-des">Updated Pending bill request.</div>
                </div>
              </li>
              <li class="in-notiifier"><a class="noti-img"><img src="avatars/avatar11.jpg"/></a>
                <div class="noti-con">
                  <div class="noti-title">Kesha</div>
                  <div class="noti-des">Reported new bug.</div>
                </div>
              </li>
            </ul>
          </li>
          <li><a data-toggle="dropdown" href="#" class="user-menu dropdown-toggle"><img src="avatars/avatar2.png" class="nav-user-photo"/>
              <div id="user_info" class="user-info">{{loggedInUser.userName}}
              </div><i class="icon-angle-down"></i></a>
            <ul class="user-menu pull-right dropdown-menu dropdown-caret dropdown-close in-dd-pro">
              <li style="text-align: center;"><img src="avatars/avatar31.png" class="in-pro-img"/></li>
              <li>
                <div class="in-name">{{loggedInUser.firstName}}</div>
                <div class="in-desig">{{loggedInUser.designation}}</div>
              </li>
              <li class="li-bt"><a href="#/main/users/{{userId}}" class="tab"><i class="icon-user"></i>Profile</a></li>
              <li ng-class="{ active: $state.includes('changePassword')}" class="li-bt"><a href="#/changePassword" ng-hide="isCevaUser"><i class="icon-edit"></i>Change Password</a><a href="https://helpdesk.invoize.com/recovery.php?changepassword=true" ng-show="isCevaUser"><i class="icon-edit"></i>Change Password</a></li>
              <li class="li-bt"><a ng-click="logout()" class="tab"><i class="icon-signout"></i>Sign Out</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
    <div style="clear:both;"></div>
  </div>
</div>
<div click-hide-show="click-hide-show" clickHide="btnEnvWarning" style="display:none;" class="modal-backdrop modal-info">
  <div class="info-block"><img src="../styles/images/hd-arrow.png" height="70" class="img"/>
    <div class="msg">Please choose your work environment first!
      <button id="btnEnvWarning" class="inz-btn btn-sm btn-success">got it!</button>
    </div>
  </div>
</div>
<link rel="stylesheet" type="text/css" href="/styles/org_setup.css"/>
<div class="col-md-12">
  <div class="pull-left">
    <label class="lbl-dash"><span class="blue">Billing Summary as of  : &nbsp;&nbsp;</span><span class="bolder orange"><i class="fa fa-calendar-o">&nbsp;&nbsp;</i>
        <input id="dt" datepicker-popup="yyyy-MM-dd" readonly="readonly" datepicker-options="dateOptions" type="text" ng-model="entryDate" close-text="Close" placeholder="Select date" class="input-small height-20"/></span></label>
  </div>
</div>
<div style="clear:both;"></div>
<div class="col-md-12">
  <table style="text-align:left;" class="inz-table inz-table1 table4">
    <thead>
      <th class="borderleftB">Region</th>
      <th class="borderleftB">Sub Region</th>
      <th class="borderleftB">Country</th>
      <th class="borderleftB">Station</th>
      <th class="borderleftB">Account Groups</th>
      <th class="borderleftB">Accounts</th>
      <th class="borderleftB">Category</th>
      <th class="borderleftB">Subcategory</th>
      <th ng-repeat="h in initData.headers" class="borderleftB">{{h}}</th>
      <th class="borderleftB">Total</th>
    </thead>
    <tbody toggle-table="toggle-table">
      <tr ng-repeat="data in initData.data">
        <td id="region_{{$index}}" class="color1">{{data.region}}</td>
        <td ng-click="fillData($event.target)" id="subRegion_{{$index}}"><i class="fa fa-folder folder2"></i>All</td>
        <td ng-click="fillData($event.target)" id="country_{{$index}}"><i class="fa fa-folder folder2"></i>All</td>
        <td ng-click="fillData($event.target)" id="station_{{$index}}"><i class="fa fa-folder folder2"></i>All</td>
        <td ng-click="fillData($event.target)" id="accountGroup_{{$index}}"><i class="fa fa-folder folder2"></i>All</td>
        <td ng-click="fillData($event.target)" id="account_{{$index}}"><i class="fa fa-folder folder2"></i>All</td>
        <td ng-click="fillData($event.target)" id="status_{{$index}}"><i class="fa fa-folder folder2"></i>All</td>
        <td ng-click="fillData($event.target)" id="substatus_{{$index}}"><i class="fa fa-folder folder2"></i>All</td>
        <td ng-repeat="bg in data.ageGroup track by $index" ng-click="showDetails($event.target,$index)">{{bg}}</td>
        <td ng-click="showDetails($event.target,data.ageGroup.length)">
          <div class="lbldash">{{data.total}}</div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<div ng-show="dialog" class="row">
  <div class="col-sm-12">
    <div class="modal-dialog modal">
      <div style="margin: 0 auto;width: 80%;" class="modal-content">
        <form name="form" novalidate="novalidate">
          <div class="modal-header">
            <button aria-hidden="true" data-dismiss="modal" type="button" ng-click="dialog=false" class="close">    &times;</button>
            <h4 class="modal-title">Details &nbsp;<i ng-show="loader" class="icon-spinner icon-spin icon-large"></i></h4>
          </div>
          <div class="modal-body">
            <div style="overflow: auto;height:450px;">
              <table class="table-hawb">
                <thead>
                  <th details.all="details.all" style="padding: 0 8px;">
                    <input type="checkbox" ng-model="details.all"/>
                  </th>
                  <th ng-repeat="(i,th) in details.headers"><span ng-repeat="(k,v) in th">{{v}}</span></th>
                </thead>
                <tbody>
                  <tr ng-repeat="row in details.data track by $index" ng-class="{'alert-warning':row['tag.excluded']}">
                    <td title="{{row['tag.excluded']}}">
                      <input type="checkbox" ng-checked="details.all" ng-click="setExcludes(row.id,$event.target);" class="ex"/>
                    </td>
                    <td ng-repeat="(i,th) in details.headers track by $index"><span ng-repeat="(k,v) in th">{{row[k]}}</span></td>
                  </tr>
                </tbody>
              </table>
            </div>
            <pagination total-items="pagination.totalItems" items-per-page="pagination.pageLimit" max-size="pagination.paginationSize" rotate="true" page="pagination.currentPage" on-select-page="setPage($parent.currentPage)" boundary-links="true" class="pagination-small"></pagination>
          </div>
          <div class="modal-footer">
            <button ng-click="excludeShipments();" class="inz-btn btn-xs btn-danger">Exclude</button>
            <button ng-click="exportData();" class="inz-btn btn-xs btn-success">Export</button>
            <button ng-click="dialog=false" class="inz-btn btn-xs btn-default">Close</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>